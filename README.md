# 🚀 Daily Report Bot

یک بات تلگرامی برای ارسال گزارش‌های روزانه تیم در یک سکشن اختصاصی فروم یا گروه. با استفاده از این بات، اعضای تیم می‌توانند به‌سادگی:

- 📋 گزارش کار امروز را ثبت کنند  
- ⏱️ زمان صرف‌شده را اعلام کنند  
- 📆 برنامه و هدف فردا را بنویسند  
- 🔔 بدون شلوغ‌شدن گروه، گزارش‌های اضافی پاک و تنها پیام خلاصه‌ی نهایی نمایش داده می‌شود

---

## ✨ امکانات نسخه‌ی اولیه

1. **ارسال خودکار پیام روزانه**: هر روز در ساعت مشخص‌شده (به صورت پیش‌فرض 09:00) در سکشن Daily Report فروم.  
2. **دکمه‌های تعاملی**:  
   - 🟢 «کاری نکردم ولی می‌دونم فردا چی‌کار کنم»  
   - 🔴 «کاری نکردم و نمی‌دونم فردا چی‌کار کنم»  
   - ✍️ «گزارش دستی»  
3. **ForceReply در گروه** برای درخواست توضیحات تکمیلی بدون نیاز به چت خصوصی  
4. **حذف پیام‌های اضافی** پس از دریافت پاسخ کاربر تا تنها پیام خلاصه باقی بماند  
5. **بدون نیاز به ذخیره‌سازی خارجی**: همه‌چیز مستقیماً در سکشن فروم آرشیو می‌شود

---

## 🛠️ پیش‌نیازها

- Python 3.11+  
- Docker و Docker Compose  
- یک بات تلگرام ساخته‌شده با BotFather  
- دسترسی ادمین به گروه/فروم (پرمیژن حذف پیام‌ها و مدیریت تاپیک)

---

## ⚙️ راه‌اندازی سریع (Docker)

1. کلون کردن مخزن:
   ```bash
   git clone https://github.com/your-org/daily-report-bot.git
   cd daily-report-bot
   ```
2. تنظیم متغیرهای محیطی در فایل `.env`:
   ```dotenv
   TELEGRAM_TOKEN=YOUR_BOT_TOKEN
   FORUM_CHAT_ID=-100XXXXXXXXX
   FORUM_THREAD_ID=123
   DAILY_SCHEDULE_TIME=09:00
   TIMEZONE=Asia/Tehran
   ```
3. ساخت و اجرای کانتینر:
   ```bash
   docker-compose up -d --build
   ```
4. بررسی لاگ‌ها:
   ```bash
   docker-compose logs -f bot
   ```

---

## 🚀 دستورالعمل استفاده

- `/start` — تست اتصال بات و مشاهده پیام خوش‌آمدگویی  
- هر روز در ساعت 09:00 پیام گزارش روزانه ارسال می‌شود.  
- برای گزارش دستی دکمه ✍️ را بزنید و زیر پیام prompt ریپلای کنید.

---

## 📦 ساختار پروژه

```
daily_report_bot/
├── bot.py                # ورودی اصلی و تنظیم JobQueue
├── config.py             # تنظیمات محیطی و متغیرها
├── handlers/
│   ├── daily_report.py   # تابع ارسال گزارش روزانه
│   └── callbacks.py      # مدیریت دکمه‌ها و ForceReply
├── logs/                 # لاگ‌ها
├── .env                  # متغیرهای محیطی
├── docker-compose.yml    # تعریف سرویس Docker
└── requirements.txt      # وابستگی‌های Python
```

---

## 🌱 توسعه‌ی آینده

- آمار ساده‌ی تعداد گزارش‌ها و کاربران پاسخ‌داده  
- یادآوری خودکار برای افرادی که پاسخ نمی‌دهند  
- مدیریت تنظیمات (زمان ارسال، قالب پیام) از طریق بات  
- اتصال به دیتابیس برای ذخیره‌ی پایدار گزارش‌ها

---

## ❤️ مشارکت

اگر می‌خواهید باگ گزارش کنید یا ویژگی جدیدی پیشنهاد دهید، لطفاً یک Issue یا Pull Request در GitHub باز کنید.

---

**موفق باشید و روز خوبی داشته باشید!**
